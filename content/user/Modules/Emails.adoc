---
Title: Emails
Weight: 140
---
:experimental:   ////this is here to allow btn:[]syntax used below

:imagesdir: ./../../../images/en/user

:toc:

= Emails

The Emails module in SuiteCRM allows Users to view, store, compose, send and receive email from their own personal Email account or a shared inbox, for example a Support or Sales inbox. Emails can be related to Accounts, Cases, Contacts and many more records in SuiteCRM.

SuiteCRM can also be configured to automatically create records from incoming mail and assign them to a designated user or group of users.

Emails can be imported and associated with a related SuiteCRM record, for example a Contact or an Account. These related emails can then be viewed on the history subpanel of the related record.

== Changes to the Emails Module

In previous releases, SuiteCRM synchronised email headers before the user could view mail. From 7.9. onwards, SuiteCRM contacts the emails server directly, retrieving only the minimal information needed to process an operation. This eliminates the synchronisation process and significantly reduces the amount of email information that needs to be stored in the database. 
If you are upgrading from a version of Suite prior to 7.9.x, please see the <<Upgrading, Upgrade guide>>.


== Mail Settings
* System Outbound
* other Outbound mail accounts
* <<Setting Up a Personal Email Account>>
* <<Setting up A Group Email Account>>
* Bounce Handling Accounts

== Email Client Overview

{{% notice note %}}
You will need to set up and have access to at least one *personal* or *group* email account in order to use the *Emails* module. 
{{% /notice %}}

The *Emails* Module opens in List View, showing all the the mail from the selected monitored folder(s) in the main window.
The main actions for the *Emails* module are contained within the buttons on the *Emails* toolbar. Hover over these buttons to see the explanatory tooltip for each function.

image:250Emailslistview.png[title="Emails Module List View"]

=== Compose Mail

To compose a new email, click the btn:[Compose Mail] button or select *Compose* from the *Sidebar*. Emails can also be composed directly from a SuiteCRM record by clicking the email address on the record. This will open compose view in the *Emails* module. The To field will be automatically populated and the email related to the relevant record. 

If you have opted to use an external email client in your <<Personal Email Settings, user profile email settings>> clicking an email address on a record in SuiteCRM will open a new email in your chosen editor.

image:252Emailcompose.png[title="Compose Email"]


* *Email Template:* Select a template if required. See <<Email Templates>> for more information on creating email templates. Once you have selected a template, a popup will warn you that the subject line and body of the email will be replaced by the contents of the email template. 
// image:253EmailsAddtemplate.png[title="Adding Email template warning"]


* *Related To:* To associate the email with a particular record, select the module (e.g. Accounts, Contacts, Leads) and then click the Search arrow to search for the record. alternatively, you can begin typing the name into the field and If you are using a template with variables, these will be populated with the relevant data from the related record when the email is sent. The To field will also be automatically populated with the email address associated with the related record.

* *From:* Select the account from which to send the email. The *Reply To* and *From* settings for the selected account are displayed alongside for information.

* *To:* Selecting a *Related To* record with a valid email address will automatically populate the *To* field. Alternatively, the *To*, *Cc* and *Bcc* fields can be populated manually or via the select buttons which appear when you click inside the fields.

* *Body:* 

If you have configured a signature for each account in your <<Personal Email Settings, user profile email settings>>, this will appear automatically in the body of the email.

The toolbar at the bottom of the Compose view has the following buttons:

// image:254Emailscomposetoolbar.png[title="Emails - Compose toolbar"]

[cols="10,10,80",frame="none", grid="none"]
|======================================================================
|image:255EmailsSendMailbutton.png[title="Send Mail button"]|*Send Mail* |Send mail!
|image:256EmailsAddFilesbutton.png[title="Add Files button"]|*Attach Files*| Use this button to attach an external file to the email.
|image|*Attach Documents*|Use this button to attach a SuiteCRM Document to the email. Search for the required Document in the popup and click btn:[Select] to attach it.
|======================================================================


* *Attach Files*

* *Attach Documents* Use this button to attach a SuiteCRM Document to the email. Search for the required Document in the popup and click btn:[Select] to attach it.
	
* *Save Draft* Drafts can be viewed by <<Select Folder, changing the folder>> in list view.

* *Discard*

=== Checking for Mail
  
For Personal email accounts, you can check for new mail with the *Check For New Mail* button on the *Emails* module toolbar. 

image here 

{{% notice note %}}
For Group email accounts, checking for email is done automatically via the *Check Inbound Mailboxes* Scheduler. You will need to ensure that your cron settings are correct for the scheduler to run. Please see link for further information on Schedulers.
{{% /notice %}}

=== Select Folder

This allows you to select which monitored folder you wish to view. If you have more than one account set up, you can also switch between accounts with this button. Expanding an account in the list will show all the monitored folders for the account. Select the required folder.
Use the settings button to add and remove monitored folders for your accounts. 

image here

=== Importing Mail
* from detail view of email record Actions-> Import
* from list view Bulk Action -> Import


* can relate to a CRM record on import ->mail then appears in the history subpanel of the related record.

=== Mark As Read/Unread 
Uread emails are indicated by a purple highlight. To mark email(s) as read or unread, select the email(s) using the checkboxes or Select All function from the Select dropdown, then select Mark As Read/Mark As Unread from the Bulk Action dropdown.

== Setting Up a Personal Email Account

Settings for personal email accounts are held within the user's profile, at the bottom of the main user profile tab. Individual users can set up their own personal accounts. Administrators can set up personal accounts for other users from the user profile in User Management.

=== Personal Email Settings
Scroll to the bottom of the main User Profile tab to view the Email Settings

image:260Emailusersettings.png[User Email Settings]

* *Email Address* - Add the email address(es) for your SuiteCRM account. Click btn:[+] to add more addresses. 
* *Email Client* - This setting controls which editor is used to compose and send mail when you click on an email link in SuiteCRM, for example an email address on a contact or account record.
	** *SuiteCRM Email Editor* - The Suite CRM Emails module editor will be used
	** *External Email Editor* - With External email editor set, mail links in SuiteCRM will open in whichever email client you have set to open `mailto://` links, for example Outlook or Thunderbird

* *Email Editor* - This allows you to set the editor used when creating and editing email *templates* and also within the Campaigns module.

{{% notice info %}}
The Email Editor setting does not affect the Suite CRM Emails module Compose view, which uses TinyMCE. This setting is not currently user-definable. 
{{% /notice %}}

=== Adding A Personal Mail Account
Click the btn:[Settings] button at the bottom of the main User Profile tab to add a personal mail account.
You will need the username and password for the account you are adding, plus the mail server address. The mail protocol supported by SuiteCRM is IMAP. 

==== Mail Accounts Tab


Select the Mail Accounts Tab and click btn:[Add] under Mail Accounts to set up your incoming mail account.
image:261EmailsAddPersonalAccount.png[Mail Accounts tab]

Complete the required details for the account. 
image:262EmailsPersonalAccountSettings.png[User Email Settings]

*Monitored Folders* are the folders which are checked for new (unread) mail. You must specify an *Inbox* and a *Sent* items folder here. Enter the folder names or click btn:[Select] to connect to the mail server and select the relevant folder(s) from the popup dialog.
image:263EmailsMonitoredFolders.png[Select monitored folders]

Once set up, the account will appear on the Mail Accounts tab. If you have more than one account configured you can set the default account to appear when you open the Emails module. Accounts set as active will be available to select. 
You can edit personal mail account settings here by clicking the pencil icon.
image:265EmailsAccountList.png[Accounts List]

==== General Tab 

* *Check for New Mail* - the default setting is to check for mail manually. Here you can specify a time interval to automatically check for new mail in your account's monitored folders.

* *Default Signature* - Here you can specify the a signature for the account - Click Create to add a new one or select one from the list.

* *Folder management* -Here you can select the folder(s) which will be available to view from the Emails module.

image:264EmailsGeneralTab.png[General tab]

== Setting up A Group Email Account

Group or shared email accounts are very useful in SuiteCRM, allowing a group of users to access a particular inbox, for example a Support or Sales inbox. SuiteCRM can be configured.
 You will need the username and password for the account you are adding, plus the mail server address. The mail protocol supported by SuiteCRM is IMAP. 

{{% notice note %}}You will need to have Administrator access to set up and give access to a group email account {{% /notice %}} 

=== Group Mail Settings
Open the *Admin* panel and select *Inbound Mail* from the *Email Settings* section.
Select *New Group Mail Account* from the Sidebar.

*Monitored Folders* are the folders which are checked for new (unread) mail. *Inbox* and *Trash* folder names must be specified here. Click btn:[Select] to connect to the mail server and select the relevant folder(s) from the popup dialog.

image here

=== Email Handling Options

image here

==== Import Emails Automatically
Group email accounts can be set up to import emails automatically, which means that records will be created in SuiteCRM for all incoming emails. Imported emails are stored in SuiteCRM. These associated emails can then be viewed via the History subpanel of the relevant record. 

==== Create Case From Email
Check this box to set up SuiteCRM to create a *Case* record from an incoming email. 

Select a *Distribution Method* to specify how cases created from incoming email are assigned to users.

image here

* Use AOP default This will use the settings in AOP, configurable via the Admin panel.
* Single User Enter or select user. Every automatically created case will be assigned to the specified user
* Round Robin Select all users or a security group or role. Cases will be assigned to the next member of the specified group or role

== Email Templates

Email templates are created from the Email Templates module. Overview

Templates created here can also be used in Workflows and Campaigns for example, as well as for system notifications.

There are a number of default system templates which are created on install. These are used to send out system notifications such as new passwords or case updates. These can be viewed and edited here.

=== Creating a template

Select *Create Email Template* from the sidebar.

new template image

* *Name*
* *Type* Select Email, Campaign or System depending on the use for the template. System templates are used to send system generated notifications such as case updates. 

* *Assigned To*
* *Description* 
* *Insert Variable*
* *Subject* Subject lines can contain variables
* *Width Default*

==== Body

To add text to the body of the template, drag and drop one of the layouts from the selection in the left hand pane.  

==== Adding Variables
To add a variable, select the appropriate module and field name.  The variable name will be displayed. You can either enter this manually, or click *Add Variable* to insert the variable at the cursor point. Variables can be added to the subject line as well as the body of the email template.

image here

* *Attachments*

=== Editing a template


=== Setting System Notification Templates

== Upgrading
If you are upgrading from a version of SuiteCRM prior to *7.9.x*, you will need to use the *Sync Inbound Email Account Tool* on upgrading. This tool will synchronise mail already imported into SuiteCRM with your current IMAP accounts so that you will not have to synchronise in the future.

The Sync Inbound Email Accounts tool goes through all the selected inbound email accounts and updates them to support new features in SuiteCRM 7.9 onwards:

* Connects to the email server (via IMAP)
* Downloads the email header information
* Determines the orphaned status of emails
* Updates the unique ID for each email
* Corrects synchronisation problems

When running the tool, you will see the progression of each process. When an error occurs, you can run the tool on the other accounts which are working. The details of each error can be found in the suitecrm.log file.

